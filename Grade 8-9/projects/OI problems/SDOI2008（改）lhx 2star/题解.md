# 拼接模板 题解

### 模型转化

首先，这题题面非常繁琐= =

看懂出题人想说什么很难（没错这是故意的）

但是仔细理解，可以归纳出以下内容：

此题的本质是：

给出$n$个字符串，定义两个子串相同表示其中一个子串的每个值增加或减少一个定值之后与另一个串相等（也就是说两个串每一位上的差相等），求这些串的最长公共子串

###提出问题

这道题里面有三个主要问题：

1.由“数值相等”变成了“加上一个整数以后数值相等”（减去等价于加负数）

2.由“最多匹配多少位（从第一位开始）”变成了从“任意一位开始匹配”

3.由“单文本串”变成了“多文本串”，而且是文本串内部自己匹配

我们按照难度顺序（3-1-2）来依次解决他们

### 问题三：多文本串

这个问题是最简单的，因为每个串长度不超过100，最多1000个串

所以，我们搞一个串出来成为模式串，然后用它去匹配剩下的串，结果取min就行了

### 问题一：数值加上整数相等

这个问题中我们要贯彻一个思想：取不变量

考虑一个序列，当它的每一个元素都增加了一定值以后，什么还是不变的？

没错，相邻元素（或者说任意两个元素）的**差值**

所以，本题中，我们只要把原来的序列变成长度小了1，元素为原来序列相邻两位之差的新序列来跑匹配，最后把答案加一就好了

### 问题二：可以从每一位开始匹配

这个问题，在解决了问题三以后也能迎刃而解：**数据范围实在是太！小！了！**

我们完全可以枚举模式串的开始位置，求出next数组，然后对于剩下的串每一个匹配一下，就做完了

### 其他

其实这道题还有后缀数组&&后缀自动机的做法，但是超过了$noip$难度= =

感兴趣的同学可以自己探究